#!/bin/bash
#
# Displays Install Status of Packages 
#
sourceconf "$PREP_CONF"
sourceconf "$DCOS_CONF"
sourceconf "$MAPR_CONF"
sourceconf "$CLUSTER_CONF"
sourceconf "$CLUSTER_ZETACA_CONF"
sourceconf "$CLUSTER_BASE_CONF"
sourceconf "$PACKAGE_CONF"

reqshared "dockerregv2 zetaca openldap"

. "$_GO_USE_MODULES" 'libpackage'

function _packagestatus() {

    PKGS=$(ls -d ./pkgs/*/)

    echo "Packages currently included and their status:"
    echo ""
    for DIR in $PKGS; do
        PKG=$(echo $DIR|sed "s@\./pkgs/@@g"|sed "s@/@@g")
        if [ -d "/mapr/$CLUSTERNAME/zeta/shared/$PKG" ]; then
            INST="true"
        else
            INST="false"
        fi
        echo "$PKG         $INST"
    done


}


_packagestatus "$@"
